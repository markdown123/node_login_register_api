(function(e){function t(t){for(var r,s,i=t[0],l=t[1],u=t[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);c&&c(t);while(p.length)p.shift()();return n.push.apply(n,u||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(r=!1)}r&&(n.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},o={app:0},n=[];function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var c=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var r=a("3ebb"),o=a.n(r);o.a},"0b35":function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,".box[data-v-87c8d428]{position:relative;width:23rem;height:35rem;background-color:#199ed8;border:1px solid #000;margin:0 auto}.box .logo[data-v-87c8d428]{top:0;height:2.5rem;line-height:2.5rem;background-color:#fff}.box .logo[data-v-87c8d428],.box .title[data-v-87c8d428]{position:absolute;width:100%}.box .title[data-v-87c8d428]{top:3rem;height:2rem;line-height:2rem;color:#fff}.mail[data-v-87c8d428]{top:5.5rem;height:4rem}.mail[data-v-87c8d428],.pwd[data-v-87c8d428]{position:absolute;width:100%}.pwd[data-v-87c8d428]{top:10rem}.el-input__inner[data-v-87c8d428],.input[data-v-87c8d428]{border-radius:0}.rember[data-v-87c8d428]{position:absolute;top:15rem;width:100%;padding:.5rem 0;height:2.5rem;line-height:2.5rem;background:#fff}.rember .rember-pwd[data-v-87c8d428]{float:left}.login[data-v-87c8d428]{position:absolute;top:20rem;left:3rem;width:80%}.login .el-button[data-v-87c8d428]{background-color:#f3f3f3;border:1px solid #ccc;width:100%;color:#000}.forget-pwd[data-v-87c8d428]{top:24rem}.forget-pwd[data-v-87c8d428],.toRegister[data-v-87c8d428]{position:absolute;color:#fff;width:100%}.toRegister[data-v-87c8d428]{top:27rem}",""]),e.exports=t},2407:function(e,t,a){var r=a("aaa0");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var o=a("499e").default;o("326dcae0",r,!0,{sourceMap:!1,shadowMode:!1})},"291c":function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,".box[data-v-162ab2c0]{position:relative;width:23rem;height:35rem;background-color:#199ed8;border:1px solid #000;margin:0 auto}.box .logo[data-v-162ab2c0]{top:0;height:2.5rem;line-height:2.5rem;background-color:#fff}.box .logo[data-v-162ab2c0],.box .title[data-v-162ab2c0]{position:absolute;width:100%}.box .title[data-v-162ab2c0]{top:3rem;height:2rem;line-height:2rem;color:#fff}.userName[data-v-162ab2c0]{top:5.5rem;height:4rem}.phone[data-v-162ab2c0],.userName[data-v-162ab2c0]{position:absolute;width:100%}.phone[data-v-162ab2c0]{top:10rem}.pwd[data-v-162ab2c0]{top:14.5rem;width:100%}.message[data-v-162ab2c0],.pwd[data-v-162ab2c0]{position:absolute}.message[data-v-162ab2c0]{top:20rem;color:#fff}.agree[data-v-162ab2c0]{position:absolute;top:24rem;left:3rem;width:80%}.agree .el-button[data-v-162ab2c0]{border:1px solid #fff;width:100%}.toLogin[data-v-162ab2c0]{position:absolute;top:29rem;color:#fff;width:100%}",""]),e.exports=t},"2ed1":function(e,t,a){"use strict";var r=a("b17a"),o=a.n(r);o.a},"3ebb":function(e,t,a){var r=a("e31a");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var o=a("499e").default;o("517436b3",r,!0,{sourceMap:!1,shadowMode:!1})},"56d7":function(e,t,a){"use strict";a.r(t);a("d3b7"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},n=[],s={name:"app"},i=s,l=(a("034f"),a("2877")),u=Object(l["a"])(i,o,n,!1,null,null,null),c=u.exports,d=a("8c4f"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"box"},[a("div",{staticClass:"logo"},[e._v("Logo")]),a("div",{staticClass:"title"},[e._v("欢迎回来")]),a("el-form",{ref:"loginFormRef",attrs:{model:e.loginForm,rules:e.loginFormRules}},[a("el-form-item",{staticClass:"mail",attrs:{prop:"phone"}},[a("el-input",{attrs:{placeholder:"邮箱或手机",name:"phone"},model:{value:e.loginForm.phone,callback:function(t){e.$set(e.loginForm,"phone",t)},expression:"loginForm.phone"}})],1),a("el-form-item",{staticClass:"pwd",attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:"密码",name:"password"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),a("div",{staticClass:"rember"},[a("div",{staticClass:"rember-pwd"},[a("input",{attrs:{type:"radio"}}),e._v("记住我 "),a("a",{attrs:{href:"#"}},[e._v("了解更多")])])]),a("el-form-item",{staticClass:"login"},[a("el-button",{attrs:{type:"info"},on:{click:e.login}},[e._v("登录")])],1)],1),a("div",{staticClass:"forget-pwd"},[e._v("忘记密码")]),a("router-link",{attrs:{to:"/register"}},[a("div",{staticClass:"toRegister"},[e._v("没有账号？立即加入")])])],1)])},m=[],f=(a("96cf"),a("1da1")),g={data:function(){var e=function(e,t,a){var r=/^1[3578]\d{9}$/;if(r.test(t))return a();a(new Error("请输入合法的手机号"))};return{loginForm:{phone:"",password:""},loginFormRules:{phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:e,trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:10,message:"长度在 6 到 10 个字符",trigger:"blur"}]}}},methods:{login:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.loginFormRef.validate(function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$request.post("/login",{phone:e.loginForm.phone,password:e.loginForm.password});case 4:r=t.sent,console.log(r),200===r.status?(e.$message.success("登录成功"),e.$router.push("/home")):202===r.status?e.$message.error(r.data):e.$message.error("登录失败"),window.localStorage.setItem("token",r.data.token),window.localStorage.setItem("phone",e.loginForm.phone),window.localStorage.setItem("password",e.loginForm.password);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()}}},h=g,b=(a("2ed1"),Object(l["a"])(h,p,m,!1,null,"87c8d428",null)),v=b.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"box"},[a("div",{staticClass:"logo"},[e._v("Logo")]),a("div",{staticClass:"title"},[e._v("立即免费加入")]),a("el-form",{ref:"loginFormRef",attrs:{model:e.loginForm,rules:e.loginFormRules}},[a("el-form-item",{staticClass:"userName",attrs:{prop:"username"}},[a("el-input",{attrs:{placeholder:"真实姓名",name:"username"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),a("el-form-item",{staticClass:"phone",attrs:{prop:"phone"}},[a("el-input",{attrs:{placeholder:"手机",name:"phone"},model:{value:e.loginForm.phone,callback:function(t){e.$set(e.loginForm,"phone",t)},expression:"loginForm.phone"}})],1),a("el-form-item",{staticClass:"pwd",attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:"密码",name:"password"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),a("div",{staticClass:"message"},[e._v(" 点击“同意加入”，即表示您同意遵守《用户协议》，《隐私政策》及《Cookie政策》 ")]),a("el-form-item",{staticClass:"agree"},[a("el-button",{attrs:{type:"primary"},on:{click:e.register}},[e._v("同意并加入")])],1)],1),a("router-link",{attrs:{to:"/login"}},[a("div",{staticClass:"toLogin"},[e._v("已有账号？立即登录")])])],1)])},x=[],k={data:function(){var e=function(e,t,a){var r=/^1[3578]\d{9}$/;if(r.test(t))return a();a(new Error("请输入合法的手机号"))};return{loginForm:{username:"",phone:"",password:""},loginFormRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 10 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:10,message:"长度在 6 到 10 个字符",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:e,trigger:"blur"}]}}},methods:{register:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.loginFormRef.validate(function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$request.post("/register",{username:e.loginForm.username,phone:e.loginForm.phone,password:e.loginForm.password});case 4:r=t.sent,console.log(r),200===r.status?(e.$message.success("注册成功"),e.$router.push("/login")):201===r.status?e.$message.error(r.data):e.$message.error("注册失败");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()}}},y=k,F=(a("f113"),Object(l["a"])(y,w,x,!1,null,"162ab2c0",null)),_=F.exports,$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"box"},[a("div",{staticClass:"logo"},[e._v("Logo")]),a("div",{staticClass:"logout"},[a("div",{staticClass:"clogout",on:{click:function(t){return e.clear()}}},[e._v("安全退出")])]),a("div",{staticClass:"table"},[a("span",[e._v("用户列表")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"username",label:"真实姓名",width:"80"}}),a("el-table-column",{attrs:{prop:"phone",label:"手机",width:"80"}}),a("el-table-column",{attrs:{prop:"password",label:"密码",width:"120"}}),a("el-table-column",{attrs:{prop:"createdDate",label:"注册时间",width:"100"}})],1)],1)])])},C=[],R={data:function(){return{form:{},tableData:[],clearToken:!1}},created:function(){this.getData()},methods:{getData:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$request.get("/current");case 2:a=t.sent,console.log(a),r=a.data.createdDate.substr(0,10),console.log(r),o={username:a.data.username,phone:a.data.phone,password:a.data.password,createdDate:r},e.tableData.push(o);case 8:case"end":return t.stop()}}),t)})))()},clear:function(){this.clearToken=!0,this.clearToken&&window.localStorage.removeItem("token"),console.log("ddd"),this.$router.push("/login")}}},O=R,j=(a("7092"),Object(l["a"])(O,$,C,!1,null,"dad9417e",null)),S=j.exports;r["default"].use(d["a"]);var M=[{path:"/",redirect:"/login"},{path:"/register",component:_},{path:"/login",component:v},{path:"/home",component:S}],q=new d["a"]({routes:M}),D=q,P=(a("5466"),a("450d"),a("ecdf")),E=a.n(P),L=(a("38a0"),a("ad41")),I=a.n(L),T=(a("9e1f"),a("6ed5")),A=a.n(T),N=(a("0fb7"),a("f529")),z=a.n(N),J=(a("10cb"),a("f3ad")),H=a.n(J),U=(a("eca7"),a("3787")),B=a.n(U),G=(a("425f"),a("4105")),K=a.n(G),Q=(a("1951"),a("eedf")),V=a.n(Q);r["default"].use(V.a),r["default"].use(K.a),r["default"].use(B.a),r["default"].use(H.a),r["default"].use(z.a),r["default"].use(A.a),r["default"].use(I.a),r["default"].use(E.a),r["default"].prototype.$message=z.a,r["default"].prototype.$confirm=A.a.confirm;var W=a("bc3a"),X=a.n(W),Y=a("2f62");r["default"].use(Y["a"]);var Z=new Y["a"].Store({state:{checkedStatus:!1,status:1},mutations:{changeStatus:function(e,t,a){e.checkedStatus=t,e.status=a,console.log(e.checkedStatus),console.log(e.status)}},actions:{},modules:{}});X.a.defaults.withCredentials=!0,X.a.defaults.baseURL="http://localhost:3000/users",r["default"].prototype.$request=X.a,X.a.interceptors.request.use((function(e){var t=window.localStorage.getItem("token");return t&&(e.headers.Authorization="".concat(t)),e}),(function(e){return Promise.reject(e)})),new r["default"]({router:D,store:Z,render:function(e){return e(c)}}).$mount("#app")},"5ee2":function(e,t,a){var r=a("291c");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var o=a("499e").default;o("034bc964",r,!0,{sourceMap:!1,shadowMode:!1})},7092:function(e,t,a){"use strict";var r=a("2407"),o=a.n(r);o.a},aaa0:function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,".box[data-v-dad9417e]{position:relative;width:23rem;height:35rem;background-color:#199ed8;border:1px solid #000;margin:0 auto}.box .logo[data-v-dad9417e]{top:0;height:2.5rem;line-height:2.5rem;background-color:#fff}.box .logo[data-v-dad9417e],.box .logout[data-v-dad9417e]{position:absolute;width:100%}.box .logout[data-v-dad9417e]{top:2.5rem;height:2rem;line-height:2rem;color:#fff;text-align:right}.box .logout .clogout[data-v-dad9417e]{padding:.5rem 1rem;width:30%;margin-left:13rem}.box .table[data-v-dad9417e]{position:absolute;top:7rem;background-color:#fff}.box .table .el-table td[data-v-dad9417e],.box .table .el-table th[data-v-dad9417e]{width:1rem}",""]),e.exports=t},b17a:function(e,t,a){var r=a("0b35");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var o=a("499e").default;o("92d3dbfa",r,!0,{sourceMap:!1,shadowMode:!1})},e31a:function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,"#app{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;color:#2c3e50;margin-top:60px}",""]),e.exports=t},f113:function(e,t,a){"use strict";var r=a("5ee2"),o=a.n(r);o.a}});
//# sourceMappingURL=app.b084f7ae.js.map